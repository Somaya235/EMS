<app-header></app-header>

<div class="activity-details-container">
  <!-- Activity Header -->
  <div *ngIf="!loading && !error && activity" class="activity-header">
    <div class="activity-info">
      <h1 class="activity-title">{{ activity.name }}</h1>
      <p class="activity-description">{{ activity.description || 'Fostering innovation and excellence' }}</p>
      <div class="activity-meta">
        <span class="meta-item">342 Members</span>
        <span class="meta-item">18 Events</span>
        <span class="activity-tag">{{ activity.category || 'General' }}</span>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="loading-spinner"></div>
    <p>Loading activity details...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-state">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="8" x2="12" y2="12"></line>
      <line x1="12" y1="16" x2="12.01" y2="16"></line>
    </svg>
    <h3>Unable to Load Activity</h3>
    <p>{{ error }}</p>
  </div>

  <!-- Activity Details -->
  <div *ngIf="activity$ | async as activity; else loadingOrError" class="activity-content">
    <!-- Main Content -->
    <div class="activity-main">
      <!-- Left Content Container -->
        <div class="content-left">
          <!-- Description Card -->
          <div class="info-card">
            <h2 class="card-title">About this Activity</h2>
            
            <!-- Vision Section -->
            <div class="vision-section">
              <h3 class="section-title">Vision</h3>
              <p class="section-content">{{ activity?.vision || 'No vision statement available.' }}</p>
            </div>
            
            <!-- Mission Section -->
            <div class="mission-section">
              <h3 class="section-title">Mission</h3>
              <p class="section-content">{{ activity?.mission || 'No mission statement available.' }}</p>
            </div>
            
            <!-- Objectives Section -->
            <div class="objectives-section">
              <h3 class="section-title">Objectives</h3>
              <p class="section-content">{{ activity.description || 'No objectives available.' }}</p>
            </div>
          </div>
          <app-activity-committees [activityId]="activity.id"></app-activity-committees>
        </div>
      

      <!-- Right Sidebar -->
      <div class="content-right">
        <!-- Activity Structure -->
        <app-activity-structure [activityId]="activity.id"></app-activity-structure>

        <!-- Actions Card -->
        <div class="actions-card">
        </div>
      </div>
    </div>

  </div>
</div>

<!-- Template references -->
<ng-template #loadingOrError>
  <div *ngIf="loading" class="loading-state">
    <div class="loading-spinner"></div>
    <p>Loading activity details...</p>
  </div>
  <div *ngIf="error" class="error-state">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="8" x2="12" y2="12"></line>
      <line x1="12" y1="16" x2="12.01" y2="16"></line>
    </svg>
    <h3>Unable to Load Activity</h3>
    <p>{{ error }}</p>
  </div>
</ng-template>
